<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Web Components Demo</title>

    <script src="./node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script>

    <script>
        // This is Custom Elements v1 specification with ES6 code
        // Works in latest Chrome; with polyfill in Safari, Opera, Firefox and Edge
        // Has to be transpiled for IE11 due to lack of ES6 support

        class GenderName extends HTMLElement {

            constructor() {
                super()
                console.log( 'constructor' )
            }

            static get observedAttributes() {
                return [ 'gender', 'name' ]
            }

            attributeChangedCallback( name, oldValue, newValue ) {
                console.log( 'attributeChangedCallback', name, oldValue, newValue )
            }

            connectedCallback() {
                console.log( 'connected' )
                this.innerHTML = `<h4>User Name</h4>`
            }

            disconnectedCallback() {
                console.log( 'disconnected' )
            }
        }

        customElements.define( 'gender-name', GenderName )

        setTimeout( () => {
            document.querySelectorAll( 'gender-name' )[ 0 ]
                    .remove()
        }, 6000 )
    </script>
</head>
<body>

<h1>Custom Elements Demo</h1>

<gender-name gender="male" name="Fred Flintstone"></gender-name>

</body>
</html>
